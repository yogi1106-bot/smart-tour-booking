{"ast":null,"code":"import _objectSpread from\"C:/Users/YOGESHWARAN/your smart travel partner/smart-tour-booking/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{BookingContext}from'../context/BookingContext';import{AuthContext}from'../context/AuthContext';import'./BookingPage.css';import{FaMapMarkerAlt,FaClock,FaUtensils,FaUsers,FaCalendarAlt,FaBus}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingPage=()=>{const{id:tourId}=useParams();const navigate=useNavigate();const{tours,vehicles}=useContext(BookingContext);const{token}=useContext(AuthContext);const tour=tours.find(t=>t._id===tourId);const[selectedVehicle,setSelectedVehicle]=useState(null);const[formData,setFormData]=useState({startDate:'',endDate:'',numberOfPassengers:1,estimatedKms:0,foodPreferences:{breakfast:false,lunch:false,dinner:false,snacks:false},passengers:[{name:'',age:'',gender:'',contact:''}],specialRequests:''});const[costBreakdown,setCostBreakdown]=useState(null);const handlePassengerChange=(index,field,value)=>{const updatedPassengers=[...formData.passengers];// Ensure the passenger object exists at this index\nif(!updatedPassengers[index]){updatedPassengers[index]={name:'',age:'',gender:'',contact:''};}updatedPassengers[index]=_objectSpread(_objectSpread({},updatedPassengers[index]),{},{[field]:value});setFormData(_objectSpread(_objectSpread({},formData),{},{passengers:updatedPassengers}));};const handleInputChange=e=>{const{name,value,type,checked}=e.target;if(name.startsWith('food')){const foodType=name.split('-')[1];setFormData(_objectSpread(_objectSpread({},formData),{},{foodPreferences:_objectSpread(_objectSpread({},formData.foodPreferences),{},{[foodType]:checked})}));}else if(name==='numberOfPassengers'){const numPassengers=parseInt(value);const currentPassengers=[...formData.passengers];// Create new passenger array with proper structure\nconst newPassengers=Array(numPassengers).fill().map((_,index)=>{return currentPassengers[index]||{name:'',age:'',gender:'',contact:''};});setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:numPassengers,passengers:newPassengers}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:type==='number'?parseFloat(value):value}));}};const calculateCost=()=>{if(!selectedVehicle||!formData.startDate||!formData.endDate){alert('Please fill all required fields');return;}const start=new Date(formData.startDate);const end=new Date(formData.endDate);const days=Math.ceil((end-start)/(1000*60*60*24));if(days<=0){alert('End date must be after start date');return;}const vehicleRentPerDay=selectedVehicle.dailyRatePerDay;const totalVehicleRent=vehicleRentPerDay*days;const kmBasedCharge=selectedVehicle.ratePerKm*formData.estimatedKms;let foodCost=0;if(Object.values(formData.foodPreferences).some(val=>val)){foodCost=500*days*formData.numberOfPassengers;}const driverCharges=200*days;const subtotal=totalVehicleRent+kmBasedCharge+foodCost+driverCharges;const gst=subtotal*0.18;const totalAmount=subtotal+gst;const advanceAmount=Math.round(totalAmount*0.30);// 30% advance payment\nsetCostBreakdown({vehicleRentPerDay,totalVehicleRent,kmBasedCharge,foodCost,driverCharges,gst,totalAmount,advanceAmount,remainingAmount:totalAmount-advanceAmount,days});};const handleBooking=()=>{if(!token){navigate('/login');return;}if(!costBreakdown){alert('Please calculate cost first');return;}// Validate passenger details\nfor(let i=0;i<formData.numberOfPassengers;i++){const passenger=formData.passengers[i];if(!passenger||!passenger.name||!passenger.age||!passenger.gender){alert(\"Please fill in all required details for Passenger \".concat(i+1,\" (Name, Age, and Gender are required)\"));return;}}navigate('/payment',{state:{tourId,vehicleId:selectedVehicle._id,bookingData:formData,costBreakdown}});};if(!tour){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{padding:'40px 20px',textAlign:'center'},children:\"Tour not found\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"booking-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Book Your Tour\"}),/*#__PURE__*/_jsx(\"p\",{children:tour.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tour Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(FaMapMarkerAlt,{}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[tour.location,\" - \",tour.area]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(FaClock,{}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[tour.duration.days,\" Days / \",tour.duration.nights,\" Nights\"]})]}),tour.nearbyTouristSpots&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"spots-title\",children:\"Tourist Spots:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"spots-list\",children:tour.nearbyTouristSpots.slice(0,3).map((spot,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"spot-badge\",children:spot.name},idx))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Vehicle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vehicles-list\",children:vehicles.filter(v=>v.status==='available').map(vehicle=>{var _vehicle$features;return/*#__PURE__*/_jsx(\"div\",{className:\"vehicle-option \".concat((selectedVehicle===null||selectedVehicle===void 0?void 0:selectedVehicle._id)===vehicle._id?'selected':''),onClick:()=>setSelectedVehicle(vehicle),children:/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaBus,{}),\" \",vehicle.type.toUpperCase(),\" - \",vehicle.model]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Capacity: \",vehicle.capacity,\" persons | \\u20B9\",vehicle.dailyRatePerDay,\"/day + \\u20B9\",vehicle.ratePerKm,\"/km\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-features\",children:[vehicle.ac&&/*#__PURE__*/_jsx(\"span\",{className:\"feature\",children:\"AC\"}),(_vehicle$features=vehicle.features)===null||_vehicle$features===void 0?void 0:_vehicle$features.map(feature=>/*#__PURE__*/_jsx(\"span\",{className:\"feature\",children:feature},feature))]})]})},vehicle._id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Travel Dates\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(FaCalendarAlt,{}),\" Start Date\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:formData.startDate,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(FaCalendarAlt,{}),\" End Date\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:formData.endDate,onChange:handleInputChange,required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Passengers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(FaUsers,{}),\" Number of Passengers\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"numberOfPassengers\",value:formData.numberOfPassengers,onChange:handleInputChange,min:\"1\",max:\"10\",required:true})]}),formData.numberOfPassengers>0&&formData.passengers&&formData.passengers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"passengers-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Passenger Details\"}),formData.passengers.map((passenger,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"passenger-form\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Passenger \",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passenger-fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(passenger===null||passenger===void 0?void 0:passenger.name)||'',onChange:e=>handlePassengerChange(index,'name',e.target.value),placeholder:\"Enter full name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(passenger===null||passenger===void 0?void 0:passenger.age)||'',onChange:e=>handlePassengerChange(index,'age',e.target.value),placeholder:\"Enter age\",min:\"1\",max:\"100\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender *\"}),/*#__PURE__*/_jsxs(\"select\",{value:(passenger===null||passenger===void 0?void 0:passenger.gender)||'',onChange:e=>handlePassengerChange(index,'gender',e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contact Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:(passenger===null||passenger===void 0?void 0:passenger.contact)||'',onChange:e=>handlePassengerChange(index,'contact',e.target.value),placeholder:\"Enter contact number\",pattern:\"[0-9]{10}\"})]})]})]},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Journey Distance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estimated KMs\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"estimatedKms\",value:formData.estimatedKms,onChange:handleInputChange,min:\"0\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Food Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"food-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"food-breakfast\",checked:formData.foodPreferences.breakfast,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaUtensils,{}),\" Breakfast\"]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"food-lunch\",checked:formData.foodPreferences.lunch,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaUtensils,{}),\" Lunch\"]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"food-dinner\",checked:formData.foodPreferences.dinner,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaUtensils,{}),\" Dinner\"]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"food-snacks\",checked:formData.foodPreferences.snacks,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaUtensils,{}),\" Snacks\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Special Requests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"specialRequests\",value:formData.specialRequests,onChange:handleInputChange,placeholder:\"Any special requests or requirements?\",rows:\"3\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:calculateCost,className:\"btn-calculate\",children:\"Calculate Cost\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cost-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cost Summary\"}),costBreakdown?/*#__PURE__*/_jsxs(\"div\",{className:\"summary-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Vehicle Rent (\\u20B9\",costBreakdown.vehicleRentPerDay,\"/day \\xD7 \",costBreakdown.days,\" days)\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",costBreakdown.totalVehicleRent.toFixed(2)]})]}),costBreakdown.kmBasedCharge>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Distance Charge (\\u20B9\",selectedVehicle.ratePerKm,\"/km \\xD7 \",formData.estimatedKms,\" km)\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",costBreakdown.kmBasedCharge.toFixed(2)]})]}),costBreakdown.foodCost>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Food Cost\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",costBreakdown.foodCost.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Driver Charges\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",costBreakdown.driverCharges.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",(costBreakdown.totalVehicleRent+costBreakdown.kmBasedCharge+costBreakdown.foodCost+costBreakdown.driverCharges).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"GST (18%)\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",costBreakdown.gst.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",costBreakdown.totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row advance\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Advance Payment (30%)\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",(costBreakdown.totalAmount*0.30).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBooking,className:\"btn-book\",children:\"Proceed to Payment\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-calculation\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Fill in all details and click \\\"Calculate Cost\\\" to see the summary\"})})]})]})]})});};export default BookingPage;","map":{"version":3,"names":["React","useContext","useState","useEffect","useParams","useNavigate","BookingContext","AuthContext","FaMapMarkerAlt","FaClock","FaUtensils","FaUsers","FaCalendarAlt","FaBus","jsx","_jsx","jsxs","_jsxs","BookingPage","id","tourId","navigate","tours","vehicles","token","tour","find","t","_id","selectedVehicle","setSelectedVehicle","formData","setFormData","startDate","endDate","numberOfPassengers","estimatedKms","foodPreferences","breakfast","lunch","dinner","snacks","passengers","name","age","gender","contact","specialRequests","costBreakdown","setCostBreakdown","handlePassengerChange","index","field","value","updatedPassengers","_objectSpread","handleInputChange","e","type","checked","target","startsWith","foodType","split","numPassengers","parseInt","currentPassengers","newPassengers","Array","fill","map","_","parseFloat","calculateCost","alert","start","Date","end","days","Math","ceil","vehicleRentPerDay","dailyRatePerDay","totalVehicleRent","kmBasedCharge","ratePerKm","foodCost","Object","values","some","val","driverCharges","subtotal","gst","totalAmount","advanceAmount","round","remainingAmount","handleBooking","i","passenger","concat","state","vehicleId","bookingData","className","style","padding","textAlign","children","location","area","duration","nights","nearbyTouristSpots","slice","spot","idx","filter","v","status","vehicle","_vehicle$features","onClick","toUpperCase","model","capacity","ac","features","feature","onChange","required","min","max","length","placeholder","pattern","rows","toFixed"],"sources":["C:/Users/YOGESHWARAN/your smart travel partner/smart-tour-booking/frontend/src/pages/BookingPage.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { BookingContext } from '../context/BookingContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport './BookingPage.css';\r\nimport { FaMapMarkerAlt, FaClock, FaUtensils, FaUsers, FaCalendarAlt, FaBus } from 'react-icons/fa';\r\n\r\nconst BookingPage = () => {\r\n  const { id: tourId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { tours, vehicles } = useContext(BookingContext);\r\n  const { token } = useContext(AuthContext);\r\n  \r\n  const tour = tours.find(t => t._id === tourId);\r\n  const [selectedVehicle, setSelectedVehicle] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    numberOfPassengers: 1,\r\n    estimatedKms: 0,\r\n    foodPreferences: {\r\n      breakfast: false,\r\n      lunch: false,\r\n      dinner: false,\r\n      snacks: false\r\n    },\r\n    passengers: [{ name: '', age: '', gender: '', contact: '' }],\r\n    specialRequests: ''\r\n  });\r\n  const [costBreakdown, setCostBreakdown] = useState(null);\r\n\r\n  const handlePassengerChange = (index, field, value) => {\r\n    const updatedPassengers = [...formData.passengers];\r\n    \r\n    // Ensure the passenger object exists at this index\r\n    if (!updatedPassengers[index]) {\r\n      updatedPassengers[index] = { name: '', age: '', gender: '', contact: '' };\r\n    }\r\n    \r\n    updatedPassengers[index] = {\r\n      ...updatedPassengers[index],\r\n      [field]: value\r\n    };\r\n    \r\n    setFormData({\r\n      ...formData,\r\n      passengers: updatedPassengers\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    if (name.startsWith('food')) {\r\n      const foodType = name.split('-')[1];\r\n      setFormData({\r\n        ...formData,\r\n        foodPreferences: {\r\n          ...formData.foodPreferences,\r\n          [foodType]: checked\r\n        }\r\n      });\r\n    } else if (name === 'numberOfPassengers') {\r\n      const numPassengers = parseInt(value);\r\n      const currentPassengers = [...formData.passengers];\r\n      \r\n      // Create new passenger array with proper structure\r\n      const newPassengers = Array(numPassengers).fill().map((_, index) => {\r\n        return currentPassengers[index] || { name: '', age: '', gender: '', contact: '' };\r\n      });\r\n      \r\n      setFormData({\r\n        ...formData,\r\n        [name]: numPassengers,\r\n        passengers: newPassengers\r\n      });\r\n    } else {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'number' ? parseFloat(value) : value\r\n      });\r\n    }\r\n  };\r\n\r\n  const calculateCost = () => {\r\n    if (!selectedVehicle || !formData.startDate || !formData.endDate) {\r\n      alert('Please fill all required fields');\r\n      return;\r\n    }\r\n\r\n    const start = new Date(formData.startDate);\r\n    const end = new Date(formData.endDate);\r\n    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\r\n\r\n    if (days <= 0) {\r\n      alert('End date must be after start date');\r\n      return;\r\n    }\r\n\r\n    const vehicleRentPerDay = selectedVehicle.dailyRatePerDay;\r\n    const totalVehicleRent = vehicleRentPerDay * days;\r\n    const kmBasedCharge = selectedVehicle.ratePerKm * formData.estimatedKms;\r\n    \r\n    let foodCost = 0;\r\n    if (Object.values(formData.foodPreferences).some(val => val)) {\r\n      foodCost = 500 * days * formData.numberOfPassengers;\r\n    }\r\n\r\n    const driverCharges = 200 * days;\r\n    const subtotal = totalVehicleRent + kmBasedCharge + foodCost + driverCharges;\r\n    const gst = subtotal * 0.18;\r\n    const totalAmount = subtotal + gst;\r\n    const advanceAmount = Math.round(totalAmount * 0.30); // 30% advance payment\r\n\r\n    setCostBreakdown({\r\n      vehicleRentPerDay,\r\n      totalVehicleRent,\r\n      kmBasedCharge,\r\n      foodCost,\r\n      driverCharges,\r\n      gst,\r\n      totalAmount,\r\n      advanceAmount,\r\n      remainingAmount: totalAmount - advanceAmount,\r\n      days\r\n    });\r\n  };\r\n\r\n  const handleBooking = () => {\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    if (!costBreakdown) {\r\n      alert('Please calculate cost first');\r\n      return;\r\n    }\r\n\r\n    // Validate passenger details\r\n    for (let i = 0; i < formData.numberOfPassengers; i++) {\r\n      const passenger = formData.passengers[i];\r\n      if (!passenger || !passenger.name || !passenger.age || !passenger.gender) {\r\n        alert(`Please fill in all required details for Passenger ${i + 1} (Name, Age, and Gender are required)`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    navigate('/payment', {\r\n      state: {\r\n        tourId,\r\n        vehicleId: selectedVehicle._id,\r\n        bookingData: formData,\r\n        costBreakdown\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!tour) {\r\n    return <div className=\"container\" style={{ padding: '40px 20px', textAlign: 'center' }}>Tour not found</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"booking-page\">\r\n      <div className=\"container\">\r\n        <div className=\"booking-header\">\r\n          <h1>Book Your Tour</h1>\r\n          <p>{tour.name}</p>\r\n        </div>\r\n\r\n        <div className=\"booking-grid\">\r\n          {/* Left Column - Booking Form */}\r\n          <div className=\"booking-form\">\r\n            <div className=\"form-section\">\r\n              <h2>Tour Details</h2>\r\n              <div className=\"tour-summary\">\r\n                <div className=\"summary-item\">\r\n                  <FaMapMarkerAlt /> <span>{tour.location} - {tour.area}</span>\r\n                </div>\r\n                <div className=\"summary-item\">\r\n                  <FaClock /> <span>{tour.duration.days} Days / {tour.duration.nights} Nights</span>\r\n                </div>\r\n                {tour.nearbyTouristSpots && (\r\n                  <div className=\"summary-item\">\r\n                    <span className=\"spots-title\">Tourist Spots:</span>\r\n                    <div className=\"spots-list\">\r\n                      {tour.nearbyTouristSpots.slice(0, 3).map((spot, idx) => (\r\n                        <span key={idx} className=\"spot-badge\">{spot.name}</span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Select Vehicle</h2>\r\n              <div className=\"vehicles-list\">\r\n                {vehicles.filter(v => v.status === 'available').map(vehicle => (\r\n                  <div\r\n                    key={vehicle._id}\r\n                    className={`vehicle-option ${selectedVehicle?._id === vehicle._id ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedVehicle(vehicle)}\r\n                  >\r\n                    <div className=\"vehicle-info\">\r\n                      <h3><FaBus /> {vehicle.type.toUpperCase()} - {vehicle.model}</h3>\r\n                      <p>Capacity: {vehicle.capacity} persons | ₹{vehicle.dailyRatePerDay}/day + ₹{vehicle.ratePerKm}/km</p>\r\n                      <div className=\"vehicle-features\">\r\n                        {vehicle.ac && <span className=\"feature\">AC</span>}\r\n                        {vehicle.features?.map(feature => (\r\n                          <span key={feature} className=\"feature\">{feature}</span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Travel Dates</h2>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label><FaCalendarAlt /> Start Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"startDate\"\r\n                    value={formData.startDate}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label><FaCalendarAlt /> End Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"endDate\"\r\n                    value={formData.endDate}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Passengers</h2>\r\n              <div className=\"form-group\">\r\n                <label><FaUsers /> Number of Passengers</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"numberOfPassengers\"\r\n                  value={formData.numberOfPassengers}\r\n                  onChange={handleInputChange}\r\n                  min=\"1\"\r\n                  max=\"10\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Passenger Details Form */}\r\n              {formData.numberOfPassengers > 0 && formData.passengers && formData.passengers.length > 0 && (\r\n                <div className=\"passengers-details\">\r\n                  <h3>Passenger Details</h3>\r\n                  {formData.passengers.map((passenger, index) => (\r\n                    <div key={index} className=\"passenger-form\">\r\n                      <h4>Passenger {index + 1}</h4>\r\n                      <div className=\"passenger-fields\">\r\n                        <div className=\"form-group\">\r\n                          <label>Full Name *</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={passenger?.name || ''}\r\n                            onChange={(e) => handlePassengerChange(index, 'name', e.target.value)}\r\n                            placeholder=\"Enter full name\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Age *</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={passenger?.age || ''}\r\n                            onChange={(e) => handlePassengerChange(index, 'age', e.target.value)}\r\n                            placeholder=\"Enter age\"\r\n                            min=\"1\"\r\n                            max=\"100\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Gender *</label>\r\n                          <select\r\n                            value={passenger?.gender || ''}\r\n                            onChange={(e) => handlePassengerChange(index, 'gender', e.target.value)}\r\n                            required\r\n                          >\r\n                            <option value=\"\">Select Gender</option>\r\n                            <option value=\"male\">Male</option>\r\n                            <option value=\"female\">Female</option>\r\n                            <option value=\"other\">Other</option>\r\n                          </select>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Contact Number</label>\r\n                          <input\r\n                            type=\"tel\"\r\n                            value={passenger?.contact || ''}\r\n                            onChange={(e) => handlePassengerChange(index, 'contact', e.target.value)}\r\n                            placeholder=\"Enter contact number\"\r\n                            pattern=\"[0-9]{10}\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Journey Distance</h2>\r\n              <div className=\"form-group\">\r\n                <label>Estimated KMs</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"estimatedKms\"\r\n                  value={formData.estimatedKms}\r\n                  onChange={handleInputChange}\r\n                  min=\"0\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Food Preferences</h2>\r\n              <div className=\"food-options\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-breakfast\"\r\n                    checked={formData.foodPreferences.breakfast}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Breakfast</span>\r\n                </label>\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-lunch\"\r\n                    checked={formData.foodPreferences.lunch}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Lunch</span>\r\n                </label>\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-dinner\"\r\n                    checked={formData.foodPreferences.dinner}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Dinner</span>\r\n                </label>\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-snacks\"\r\n                    checked={formData.foodPreferences.snacks}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Snacks</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Special Requests</h2>\r\n              <div className=\"form-group\">\r\n                <textarea\r\n                  name=\"specialRequests\"\r\n                  value={formData.specialRequests}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Any special requests or requirements?\"\r\n                  rows=\"3\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <button onClick={calculateCost} className=\"btn-calculate\">\r\n              Calculate Cost\r\n            </button>\r\n          </div>\r\n\r\n          {/* Right Column - Cost Summary */}\r\n          <div className=\"cost-summary\">\r\n            <h2>Cost Summary</h2>\r\n            {costBreakdown ? (\r\n              <div className=\"summary-box\">\r\n                <div className=\"summary-row\">\r\n                  <span>Vehicle Rent (₹{costBreakdown.vehicleRentPerDay}/day × {costBreakdown.days} days)</span>\r\n                  <span>₹{costBreakdown.totalVehicleRent.toFixed(2)}</span>\r\n                </div>\r\n                {costBreakdown.kmBasedCharge > 0 && (\r\n                  <div className=\"summary-row\">\r\n                    <span>Distance Charge (₹{selectedVehicle.ratePerKm}/km × {formData.estimatedKms} km)</span>\r\n                    <span>₹{costBreakdown.kmBasedCharge.toFixed(2)}</span>\r\n                  </div>\r\n                )}\r\n                {costBreakdown.foodCost > 0 && (\r\n                  <div className=\"summary-row\">\r\n                    <span>Food Cost</span>\r\n                    <span>₹{costBreakdown.foodCost.toFixed(2)}</span>\r\n                  </div>\r\n                )}\r\n                <div className=\"summary-row\">\r\n                  <span>Driver Charges</span>\r\n                  <span>₹{costBreakdown.driverCharges.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row\">\r\n                  <span>Subtotal</span>\r\n                  <span>₹{(costBreakdown.totalVehicleRent + costBreakdown.kmBasedCharge + costBreakdown.foodCost + costBreakdown.driverCharges).toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row\">\r\n                  <span>GST (18%)</span>\r\n                  <span>₹{costBreakdown.gst.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row total\">\r\n                  <span>Total Amount</span>\r\n                  <span>₹{costBreakdown.totalAmount.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row advance\">\r\n                  <span>Advance Payment (30%)</span>\r\n                  <span>₹{(costBreakdown.totalAmount * 0.30).toFixed(2)}</span>\r\n                </div>\r\n                <button onClick={handleBooking} className=\"btn-book\">\r\n                  Proceed to Payment\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"no-calculation\">\r\n                <p>Fill in all details and click \"Calculate Cost\" to see the summary</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}