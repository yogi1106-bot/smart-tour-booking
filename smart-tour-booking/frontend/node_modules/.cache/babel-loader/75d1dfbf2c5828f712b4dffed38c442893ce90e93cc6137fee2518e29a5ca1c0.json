{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\YOGESHWARAN\\\\your smart travel partner\\\\smart-tour-booking\\\\frontend\\\\src\\\\pages\\\\BookingPage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { BookingContext } from '../context/BookingContext';\nimport { AuthContext } from '../context/AuthContext';\nimport './BookingPage.css';\nimport { FaMapMarkerAlt, FaClock, FaUtensils, FaUsers, FaCalendarAlt, FaBus } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingPage = () => {\n  _s();\n  const {\n    id: tourId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    tours,\n    vehicles\n  } = useContext(BookingContext);\n  const {\n    token\n  } = useContext(AuthContext);\n  const tour = tours.find(t => t._id === tourId);\n  const [selectedVehicle, setSelectedVehicle] = useState(null);\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    numberOfPassengers: 1,\n    estimatedKms: 0,\n    foodPreferences: {\n      breakfast: false,\n      lunch: false,\n      dinner: false,\n      snacks: false\n    },\n    passengers: [],\n    specialRequests: ''\n  });\n  const [costBreakdown, setCostBreakdown] = useState(null);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    if (name.startsWith('food')) {\n      const foodType = name.split('-')[1];\n      setFormData({\n        ...formData,\n        foodPreferences: {\n          ...formData.foodPreferences,\n          [foodType]: checked\n        }\n      });\n    } else if (name === 'numberOfPassengers') {\n      setFormData({\n        ...formData,\n        [name]: parseInt(value),\n        passengers: Array(parseInt(value)).fill({})\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [name]: type === 'number' ? parseFloat(value) : value\n      });\n    }\n  };\n  const calculateCost = () => {\n    if (!selectedVehicle || !formData.startDate || !formData.endDate) {\n      alert('Please fill all required fields');\n      return;\n    }\n    const start = new Date(formData.startDate);\n    const end = new Date(formData.endDate);\n    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\n    if (days <= 0) {\n      alert('End date must be after start date');\n      return;\n    }\n    const vehicleRentPerDay = selectedVehicle.dailyRatePerDay;\n    const totalVehicleRent = vehicleRentPerDay * days;\n    const kmBasedCharge = selectedVehicle.ratePerKm * formData.estimatedKms;\n    let foodCost = 0;\n    if (Object.values(formData.foodPreferences).some(val => val)) {\n      foodCost = 500 * days * formData.numberOfPassengers;\n    }\n    const driverCharges = 200 * days;\n    const subtotal = totalVehicleRent + kmBasedCharge + foodCost + driverCharges;\n    const gst = subtotal * 0.18;\n    const totalAmount = subtotal + gst;\n    const advanceAmount = Math.round(totalAmount * 0.30); // 30% advance payment\n\n    setCostBreakdown({\n      vehicleRentPerDay,\n      totalVehicleRent,\n      kmBasedCharge,\n      foodCost,\n      driverCharges,\n      gst,\n      totalAmount,\n      advanceAmount,\n      remainingAmount: totalAmount - advanceAmount,\n      days\n    });\n  };\n  const handleBooking = () => {\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    if (!costBreakdown) {\n      alert('Please calculate cost first');\n      return;\n    }\n    navigate('/payment', {\n      state: {\n        tourId,\n        vehicleId: selectedVehicle._id,\n        bookingData: formData,\n        costBreakdown\n      }\n    });\n  };\n  if (!tour) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        padding: '40px 20px',\n        textAlign: 'center'\n      },\n      children: \"Tour not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Book Your Tour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tour.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Tour Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tour-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [tour.location, \" - \", tour.area]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(FaClock, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [tour.duration.days, \" Days / \", tour.duration.nights, \" Nights\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), tour.nearbyTouristSpots && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spots-title\",\n                  children: \"Tourist Spots:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spots-list\",\n                  children: tour.nearbyTouristSpots.slice(0, 3).map((spot, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spot-badge\",\n                    children: spot.name\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Select Vehicle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vehicles-list\",\n              children: vehicles.filter(v => v.status === 'available').map(vehicle => {\n                var _vehicle$features;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `vehicle-option ${(selectedVehicle === null || selectedVehicle === void 0 ? void 0 : selectedVehicle._id) === vehicle._id ? 'selected' : ''}`,\n                  onClick: () => setSelectedVehicle(vehicle),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"vehicle-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: [/*#__PURE__*/_jsxDEV(FaBus, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 27\n                      }, this), \" \", vehicle.type.toUpperCase(), \" - \", vehicle.model]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Capacity: \", vehicle.capacity, \" persons | \\u20B9\", vehicle.dailyRatePerDay, \"/day + \\u20B9\", vehicle.ratePerKm, \"/km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"vehicle-features\",\n                      children: [vehicle.ac && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"feature\",\n                        children: \"AC\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 40\n                      }, this), (_vehicle$features = vehicle.features) === null || _vehicle$features === void 0 ? void 0 : _vehicle$features.map(feature => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"feature\",\n                        children: feature\n                      }, feature, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 27\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 21\n                  }, this)\n                }, vehicle._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Travel Dates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 26\n                  }, this), \" Start Date\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"startDate\",\n                  value: formData.startDate,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 26\n                  }, this), \" End Date\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"endDate\",\n                  value: formData.endDate,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Passengers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 24\n                }, this), \" Number of Passengers\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"numberOfPassengers\",\n                value: formData.numberOfPassengers,\n                onChange: handleInputChange,\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Journey Distance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Estimated KMs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"estimatedKms\",\n                value: formData.estimatedKms,\n                onChange: handleInputChange,\n                min: \"0\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Food Preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"food-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"food-breakfast\",\n                  checked: formData.foodPreferences.breakfast,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaUtensils, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 25\n                  }, this), \" Breakfast\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"food-lunch\",\n                  checked: formData.foodPreferences.lunch,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaUtensils, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this), \" Lunch\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"food-dinner\",\n                  checked: formData.foodPreferences.dinner,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaUtensils, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 25\n                  }, this), \" Dinner\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"food-snacks\",\n                  checked: formData.foodPreferences.snacks,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FaUtensils, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 25\n                  }, this), \" Snacks\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Special Requests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"specialRequests\",\n                value: formData.specialRequests,\n                onChange: handleInputChange,\n                placeholder: \"Any special requests or requirements?\",\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: calculateCost,\n            className: \"btn-calculate\",\n            children: \"Calculate Cost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cost-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Cost Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), costBreakdown ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Vehicle Rent (\\u20B9\", costBreakdown.vehicleRentPerDay, \"/day \\xD7 \", costBreakdown.days, \" days)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", costBreakdown.totalVehicleRent.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), costBreakdown.kmBasedCharge > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Distance Charge (\\u20B9\", selectedVehicle.ratePerKm, \"/km \\xD7 \", formData.estimatedKms, \" km)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", costBreakdown.kmBasedCharge.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this), costBreakdown.foodCost > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Food Cost\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", costBreakdown.foodCost.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Driver Charges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", costBreakdown.driverCharges.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", (costBreakdown.totalVehicleRent + costBreakdown.kmBasedCharge + costBreakdown.foodCost + costBreakdown.driverCharges).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"GST (18%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", costBreakdown.gst.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", costBreakdown.totalAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-row advance\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Advance Payment (30%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", (costBreakdown.totalAmount * 0.30).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleBooking,\n              className: \"btn-book\",\n              children: \"Proceed to Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-calculation\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Fill in all details and click \\\"Calculate Cost\\\" to see the summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingPage, \"DHr6SeY6sdk1NqOT50j/ZlMdCiQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BookingPage;\nexport default BookingPage;\nvar _c;\n$RefreshReg$(_c, \"BookingPage\");","map":{"version":3,"names":["React","useContext","useState","useParams","useNavigate","BookingContext","AuthContext","FaMapMarkerAlt","FaClock","FaUtensils","FaUsers","FaCalendarAlt","FaBus","jsxDEV","_jsxDEV","BookingPage","_s","id","tourId","navigate","tours","vehicles","token","tour","find","t","_id","selectedVehicle","setSelectedVehicle","formData","setFormData","startDate","endDate","numberOfPassengers","estimatedKms","foodPreferences","breakfast","lunch","dinner","snacks","passengers","specialRequests","costBreakdown","setCostBreakdown","handleInputChange","e","name","value","type","checked","target","startsWith","foodType","split","parseInt","Array","fill","parseFloat","calculateCost","alert","start","Date","end","days","Math","ceil","vehicleRentPerDay","dailyRatePerDay","totalVehicleRent","kmBasedCharge","ratePerKm","foodCost","Object","values","some","val","driverCharges","subtotal","gst","totalAmount","advanceAmount","round","remainingAmount","handleBooking","state","vehicleId","bookingData","className","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","location","area","duration","nights","nearbyTouristSpots","slice","map","spot","idx","filter","v","status","vehicle","_vehicle$features","onClick","toUpperCase","model","capacity","ac","features","feature","onChange","required","min","placeholder","rows","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/YOGESHWARAN/your smart travel partner/smart-tour-booking/frontend/src/pages/BookingPage.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { BookingContext } from '../context/BookingContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport './BookingPage.css';\r\nimport { FaMapMarkerAlt, FaClock, FaUtensils, FaUsers, FaCalendarAlt, FaBus } from 'react-icons/fa';\r\n\r\nconst BookingPage = () => {\r\n  const { id: tourId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { tours, vehicles } = useContext(BookingContext);\r\n  const { token } = useContext(AuthContext);\r\n  \r\n  const tour = tours.find(t => t._id === tourId);\r\n  const [selectedVehicle, setSelectedVehicle] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    numberOfPassengers: 1,\r\n    estimatedKms: 0,\r\n    foodPreferences: {\r\n      breakfast: false,\r\n      lunch: false,\r\n      dinner: false,\r\n      snacks: false\r\n    },\r\n    passengers: [],\r\n    specialRequests: ''\r\n  });\r\n  const [costBreakdown, setCostBreakdown] = useState(null);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    if (name.startsWith('food')) {\r\n      const foodType = name.split('-')[1];\r\n      setFormData({\r\n        ...formData,\r\n        foodPreferences: {\r\n          ...formData.foodPreferences,\r\n          [foodType]: checked\r\n        }\r\n      });\r\n    } else if (name === 'numberOfPassengers') {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: parseInt(value),\r\n        passengers: Array(parseInt(value)).fill({})\r\n      });\r\n    } else {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: type === 'number' ? parseFloat(value) : value\r\n      });\r\n    }\r\n  };\r\n\r\n  const calculateCost = () => {\r\n    if (!selectedVehicle || !formData.startDate || !formData.endDate) {\r\n      alert('Please fill all required fields');\r\n      return;\r\n    }\r\n\r\n    const start = new Date(formData.startDate);\r\n    const end = new Date(formData.endDate);\r\n    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\r\n\r\n    if (days <= 0) {\r\n      alert('End date must be after start date');\r\n      return;\r\n    }\r\n\r\n    const vehicleRentPerDay = selectedVehicle.dailyRatePerDay;\r\n    const totalVehicleRent = vehicleRentPerDay * days;\r\n    const kmBasedCharge = selectedVehicle.ratePerKm * formData.estimatedKms;\r\n    \r\n    let foodCost = 0;\r\n    if (Object.values(formData.foodPreferences).some(val => val)) {\r\n      foodCost = 500 * days * formData.numberOfPassengers;\r\n    }\r\n\r\n    const driverCharges = 200 * days;\r\n    const subtotal = totalVehicleRent + kmBasedCharge + foodCost + driverCharges;\r\n    const gst = subtotal * 0.18;\r\n    const totalAmount = subtotal + gst;\r\n    const advanceAmount = Math.round(totalAmount * 0.30); // 30% advance payment\r\n\r\n    setCostBreakdown({\r\n      vehicleRentPerDay,\r\n      totalVehicleRent,\r\n      kmBasedCharge,\r\n      foodCost,\r\n      driverCharges,\r\n      gst,\r\n      totalAmount,\r\n      advanceAmount,\r\n      remainingAmount: totalAmount - advanceAmount,\r\n      days\r\n    });\r\n  };\r\n\r\n  const handleBooking = () => {\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    if (!costBreakdown) {\r\n      alert('Please calculate cost first');\r\n      return;\r\n    }\r\n\r\n    navigate('/payment', {\r\n      state: {\r\n        tourId,\r\n        vehicleId: selectedVehicle._id,\r\n        bookingData: formData,\r\n        costBreakdown\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!tour) {\r\n    return <div className=\"container\" style={{ padding: '40px 20px', textAlign: 'center' }}>Tour not found</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"booking-page\">\r\n      <div className=\"container\">\r\n        <div className=\"booking-header\">\r\n          <h1>Book Your Tour</h1>\r\n          <p>{tour.name}</p>\r\n        </div>\r\n\r\n        <div className=\"booking-grid\">\r\n          {/* Left Column - Booking Form */}\r\n          <div className=\"booking-form\">\r\n            <div className=\"form-section\">\r\n              <h2>Tour Details</h2>\r\n              <div className=\"tour-summary\">\r\n                <div className=\"summary-item\">\r\n                  <FaMapMarkerAlt /> <span>{tour.location} - {tour.area}</span>\r\n                </div>\r\n                <div className=\"summary-item\">\r\n                  <FaClock /> <span>{tour.duration.days} Days / {tour.duration.nights} Nights</span>\r\n                </div>\r\n                {tour.nearbyTouristSpots && (\r\n                  <div className=\"summary-item\">\r\n                    <span className=\"spots-title\">Tourist Spots:</span>\r\n                    <div className=\"spots-list\">\r\n                      {tour.nearbyTouristSpots.slice(0, 3).map((spot, idx) => (\r\n                        <span key={idx} className=\"spot-badge\">{spot.name}</span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Select Vehicle</h2>\r\n              <div className=\"vehicles-list\">\r\n                {vehicles.filter(v => v.status === 'available').map(vehicle => (\r\n                  <div\r\n                    key={vehicle._id}\r\n                    className={`vehicle-option ${selectedVehicle?._id === vehicle._id ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedVehicle(vehicle)}\r\n                  >\r\n                    <div className=\"vehicle-info\">\r\n                      <h3><FaBus /> {vehicle.type.toUpperCase()} - {vehicle.model}</h3>\r\n                      <p>Capacity: {vehicle.capacity} persons | ₹{vehicle.dailyRatePerDay}/day + ₹{vehicle.ratePerKm}/km</p>\r\n                      <div className=\"vehicle-features\">\r\n                        {vehicle.ac && <span className=\"feature\">AC</span>}\r\n                        {vehicle.features?.map(feature => (\r\n                          <span key={feature} className=\"feature\">{feature}</span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Travel Dates</h2>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label><FaCalendarAlt /> Start Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"startDate\"\r\n                    value={formData.startDate}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label><FaCalendarAlt /> End Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"endDate\"\r\n                    value={formData.endDate}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Passengers</h2>\r\n              <div className=\"form-group\">\r\n                <label><FaUsers /> Number of Passengers</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"numberOfPassengers\"\r\n                  value={formData.numberOfPassengers}\r\n                  onChange={handleInputChange}\r\n                  min=\"1\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Journey Distance</h2>\r\n              <div className=\"form-group\">\r\n                <label>Estimated KMs</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"estimatedKms\"\r\n                  value={formData.estimatedKms}\r\n                  onChange={handleInputChange}\r\n                  min=\"0\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Food Preferences</h2>\r\n              <div className=\"food-options\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-breakfast\"\r\n                    checked={formData.foodPreferences.breakfast}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Breakfast</span>\r\n                </label>\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-lunch\"\r\n                    checked={formData.foodPreferences.lunch}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Lunch</span>\r\n                </label>\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-dinner\"\r\n                    checked={formData.foodPreferences.dinner}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Dinner</span>\r\n                </label>\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"food-snacks\"\r\n                    checked={formData.foodPreferences.snacks}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <span><FaUtensils /> Snacks</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h2>Special Requests</h2>\r\n              <div className=\"form-group\">\r\n                <textarea\r\n                  name=\"specialRequests\"\r\n                  value={formData.specialRequests}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Any special requests or requirements?\"\r\n                  rows=\"3\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <button onClick={calculateCost} className=\"btn-calculate\">\r\n              Calculate Cost\r\n            </button>\r\n          </div>\r\n\r\n          {/* Right Column - Cost Summary */}\r\n          <div className=\"cost-summary\">\r\n            <h2>Cost Summary</h2>\r\n            {costBreakdown ? (\r\n              <div className=\"summary-box\">\r\n                <div className=\"summary-row\">\r\n                  <span>Vehicle Rent (₹{costBreakdown.vehicleRentPerDay}/day × {costBreakdown.days} days)</span>\r\n                  <span>₹{costBreakdown.totalVehicleRent.toFixed(2)}</span>\r\n                </div>\r\n                {costBreakdown.kmBasedCharge > 0 && (\r\n                  <div className=\"summary-row\">\r\n                    <span>Distance Charge (₹{selectedVehicle.ratePerKm}/km × {formData.estimatedKms} km)</span>\r\n                    <span>₹{costBreakdown.kmBasedCharge.toFixed(2)}</span>\r\n                  </div>\r\n                )}\r\n                {costBreakdown.foodCost > 0 && (\r\n                  <div className=\"summary-row\">\r\n                    <span>Food Cost</span>\r\n                    <span>₹{costBreakdown.foodCost.toFixed(2)}</span>\r\n                  </div>\r\n                )}\r\n                <div className=\"summary-row\">\r\n                  <span>Driver Charges</span>\r\n                  <span>₹{costBreakdown.driverCharges.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row\">\r\n                  <span>Subtotal</span>\r\n                  <span>₹{(costBreakdown.totalVehicleRent + costBreakdown.kmBasedCharge + costBreakdown.foodCost + costBreakdown.driverCharges).toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row\">\r\n                  <span>GST (18%)</span>\r\n                  <span>₹{costBreakdown.gst.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row total\">\r\n                  <span>Total Amount</span>\r\n                  <span>₹{costBreakdown.totalAmount.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-row advance\">\r\n                  <span>Advance Payment (30%)</span>\r\n                  <span>₹{(costBreakdown.totalAmount * 0.30).toFixed(2)}</span>\r\n                </div>\r\n                <button onClick={handleBooking} className=\"btn-book\">\r\n                  Proceed to Payment\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"no-calculation\">\r\n                <p>Fill in all details and click \"Calculate Cost\" to see the summary</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}